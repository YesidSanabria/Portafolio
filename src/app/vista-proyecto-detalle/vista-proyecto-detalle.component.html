<div *ngIf="proyectoActual; else noEncontradoOError">

  <section class="backdrop">
    <header class="header">
      <div class="aaa">
        <img [src]="proyectoActual.imagenPrincipal" [alt]="'Imagen principal de ' + proyectoActual.titulo" class="image">
      </div>
      <div>
        <div class="title">
          <h1 class="tlih1">{{ proyectoActual.titulo }}</h1>
        </div>
        <div>
          <ul class="conjutitle">
            <li>
              <div class="info-fecha-container">
                <img src="assets/img_proyectos/calendar.png" alt="calendar" class="littleimage">
                <p class="texto-fecha">{{ proyectoActual.fecha }}</p>
              </div>
            </li>
            <li>
              <div class="info-fecha-container">
                <img src="assets/img_proyectos/tag.png" alt="tag" class="littleimage">
                <p class="texto-fecha">{{ proyectoActual.desarrollo }}</p>
              </div>
            </li>
            <li>
              <div class="info-fecha-container">
                <img src="assets/img_proyectos/customer.png" alt="customer" class="littleimage">
                <p class="texto-fecha">{{ proyectoActual.tecnologias1 }}</p>
              </div>
            </li>
          </ul>
          <br>
          <div class="link">
              <a [href]="proyectoActual.linkDemo" *ngIf="proyectoActual.linkDemo" class="text" target="_blank" rel="noopener noreferrer">
                Ver Proyecto
              </a>
              <p *ngIf="proyectoActual.advertencia" class="text">{{ proyectoActual.advertencia }}</p>
          </div>
        </div>
      </div>
    </header>

    <br>
    <br>

    <div class="fondo">
      <p *ngIf="proyectoActual.subtitulo" class="text1">{{ proyectoActual.subtitulo }}</p>
    </div>

    <div>
      <p style="margin-bottom: 20px;" *ngIf="proyectoActual.descripcionCorta" class="text1">{{ proyectoActual.descripcionCorta }}</p>
      <p style="margin-bottom: 20px;" *ngIf="proyectoActual.descripcionLarga" class="text1" [innerHTML]="descripcionLargaFormateada"></p>

      <div>
        <h1 class="title1">Funcionalidades</h1>
      </div>
      <p style="margin-bottom: 20px;" *ngIf="proyectoActual.funcionalidades" class="text1">{{ proyectoActual.funcionalidades }}</p>

      <div class="funcionalidades-lista">
        <div *ngIf="proyectoActual.funcion1" class="info-linea">
          <p class="flex1">{{ proyectoActual.funcion1 }}:</p>
          <p class="flex2">{{ proyectoActual.funcion1_1 }}</p>
        </div>
        <div *ngIf="proyectoActual.funcion2" class="info-linea">
          <p class="flex1">{{ proyectoActual.funcion2 }}:</p>
          <p class="flex2">{{ proyectoActual.funcion2_1 }}</p>
        </div>
        <div *ngIf="proyectoActual.funcion3" class="info-linea">
          <p class="flex1">{{ proyectoActual.funcion3 }}:</p>
          <p class="flex2">{{ proyectoActual.funcion3_1 }}</p>
        </div>
        <div *ngIf="proyectoActual.funcion4" class="info-linea">
          <p class="flex1">{{ proyectoActual.funcion4 }}:</p>
          <p class="flex2">{{ proyectoActual.funcion4_1 }}</p>
        </div>
        <div *ngIf="proyectoActual.funcion5" class="info-linea">
          <p class="flex1">{{ proyectoActual.funcion5 }}:</p>
          <p class="flex2">{{ proyectoActual.funcion5_1 }}</p>
        </div>
        <div *ngIf="proyectoActual.funcion6" class="info-linea">
          <p class="flex1">{{ proyectoActual.funcion6 }}:</p>
          <p class="flex2">{{ proyectoActual.funcion6_1 }}</p>
        </div>
      </div>

      <div class="sizeimge">
        <div class="imagen-grande-wrapper">
          <img *ngIf="proyectoActual.imagen1" [src]="proyectoActual.imagen1" [alt]="'Imagen 1 de ' + proyectoActual.titulo" class="image">
        </div>
        <div class="double">
          <img *ngIf="proyectoActual.imagen2" [src]="proyectoActual.imagen2" [alt]="'Imagen 2 de ' + proyectoActual.titulo" class="image">
          <img *ngIf="proyectoActual.imagen3" [src]="proyectoActual.imagen3" [alt]="'Imagen 3 de ' + proyectoActual.titulo" class="image">
        </div>
      </div>
      
      <div>
        <h1 class="title1">Tecnologías</h1>
      </div>
      <table class="tech-table">
        <thead>
          <tr>
            <th>Tecnología</th>
            <th>Uso / Implementación</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngIf="proyectoActual.tectno1">
            <td data-label="Tecnología"><p>{{ proyectoActual.tectno1 }}</p></td>
            <td data-label="Uso / Implementación"><p class="sinmar">{{ proyectoActual.tectno1_1 }}</p></td>
          </tr>
          <tr *ngIf="proyectoActual.tectno2">
            <td data-label="Tecnología"><p>{{ proyectoActual.tectno2 }}</p></td>
            <td data-label="Uso / Implementación"><p class="sinmar">{{ proyectoActual.tectno2_1 }}</p></td>
          </tr>
          <tr *ngIf="proyectoActual.tectno3">
            <td data-label="Tecnología"><p>{{ proyectoActual.tectno3 }}</p></td>
            <td data-label="Uso / Implementación"><p class="sinmar">{{ proyectoActual.tectno3_1 }}</p></td>
          </tr>
          <tr *ngIf="proyectoActual.tectno4">
            <td data-label="Tecnología"><p>{{ proyectoActual.tectno4 }}</p></td>
            <td data-label="Uso / Implementación"><p class="sinmar">{{ proyectoActual.tectno4_1 }}</p></td>
          </tr>
        </tbody>
      </table>
    </div>
  </section>

  <footer class="fondo1">
    <span>© 2025</span>
    <a routerLink="/" class="link">Volver a la Página Principal</a>
    <a href="mailto:yesanabria2@poligran.edu.co" class="contact-button email">
            <svg aria-hidden="true" focusable="false" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="contact-icon"><path fill="currentColor" d="M48 64C21.5 64 0 85.5 0 112v288c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48H48zm0 48h416c8.8 0 16 7.2 16 16v41.4c-21.9 18.5-53.2 44.1-73.2 61.4L320 304.3 256 352l-64-47.7-66.8-49.5c-20-17.3-51.3-42.9-73.2-61.4V128c0-8.8 7.2-16 16-16zm0 240v-2.5c0-4.6 1.6-9 4.5-12.3L160 256l-64 48v96c0 8.8 7.2 16 16 16h41.4c-21.9-18.5-53.2-44.1-73.2-61.4zM464 400c8.8 0 16-7.2 16-16V208l-64-48 112.5 82.3c2.9 3.3 4.5 7.8 4.5 12.3V400c0-8.8-7.2-16-16-16H464z"></path></svg>
            Contacto: yesanabria2
          </a>
    
  </footer>
  
</div>

<ng-template #noEncontradoOError>
  <div *ngIf="errorCarga" class="mensaje-error">
    <h2>Error al Cargar el Proyecto</h2>
    <p>{{ errorCarga }}</p>
  </div>
  <div *ngIf="!proyectoActual && !errorCarga" class="mensaje-cargando">
    <p>Cargando detalles del proyecto...</p>
  </div>
</ng-template>